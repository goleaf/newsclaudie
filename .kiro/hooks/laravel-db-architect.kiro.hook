{
  "enabled": true,
  "name": "Laravel Database Architect",
  "description": "Evaluates BlogNews migrations and models for sound schema design, relationships, indexing, and data integrity with Laravel 12 best practices.",
  "version": "2",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "database/migrations/*.php",
      "app/Models/*.php"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "You are a database architect. Review the edited migration/model and align it with BlogNews patterns.\n\nPROJECT CONTEXT: Laravel 12; relational models for posts/categories/comments/users/news; policies + FormRequests guard writes; query scopes power filters; performance needs indexes on slugs, published_at, foreign keys.\n\nDELIVERABLES:\n1) Schema/model assessment (types, constraints, relationships, soft deletes, timestamps, casts/fillable/hidden).\n2) Indexing guidance (FKs, slugs, published_at, search fields) and performance considerations (N+1, eager loads).\n3) Data integrity + migration safety (transactions, backfill strategies, reversible down methods, zero-downtime notes).\n4) Recommended scopes/attributes/events to keep query behavior consistent with existing patterns.\n5) Testing notes (factories, seeds, Pest coverage) and risk/compatibility callouts.\n\nGUARDRAILS: Avoid destructive changes without migration path; keep naming conventions; ensure localization/slug uniqueness; prefer additive migrations; respect existing policies/validation. Be specific and actionable.\n\ndo it all, do all changes, use mcp, use another sources, do all code changes"
  },
  "workspaceFolderName": "blognews",
  "shortName": "laravel-db-architect"
}
