@import "tailwindcss";

@layer base {
    [x-cloak] {
        display: none;
    }

    /* Smooth scrolling for better UX */
    html {
        scroll-behavior: smooth;
    }

    /* Respect reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
}

@layer components {
    .featured-post-image {
        display: block;
        height: 240px;
        width: 100%;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    .post-header-image {
        display: block;
        height: 320px;
        width: 100%;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    @media screen and (max-width: 375px) {
        .featured-post-image {
            height: 180px;
        }

        .post-header-image {
            max-height: 240px;
        }
    }

    body.disable-scroll {
        height: 100vh;
        overflow: hidden;
    }

    body.disable-scroll #theme-toggle {
        display: none;
    }

    pre {
        @apply my-4 overflow-x-auto rounded;
    }

    pre.torchlight {
        @apply p-0;
    }

    pre code.torchlight {
        @apply block min-w-max py-4;
    }

    pre code.torchlight .line {
        @apply px-4;
    }

    pre code.torchlight .line-number,
    pre code.torchlight .summary-caret {
        @apply mr-4;
    }

    .editor-toolbar {
        background-color: #fff;
        opacity: 0.9;
    }

    .admin-row-selected {
        @apply ring-2 ring-indigo-500/70 ring-offset-1 ring-offset-white dark:ring-indigo-400/70 dark:ring-offset-slate-900;
    }

    /* Optimistic UI animations */
    @keyframes optimistic-pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.7;
        }
    }

    .optimistic-update {
        animation: optimistic-pulse 0.6s ease-in-out;
    }

    @keyframes optimistic-success {
        0% {
            background-color: rgb(34 197 94 / 0.1);
        }
        100% {
            background-color: transparent;
        }
    }

    .optimistic-success {
        animation: optimistic-success 1s ease-out;
    }

    @keyframes optimistic-error {
        0%, 100% {
            transform: translateX(0);
        }
        25% {
            transform: translateX(-4px);
        }
        75% {
            transform: translateX(4px);
        }
    }

    .optimistic-error {
        animation: optimistic-error 0.4s ease-in-out;
        background-color: rgb(239 68 68 / 0.1);
    }
}
